# =============================================================================
# GITLEAKS CONFIGURATION - SECRET DETECTION
# =============================================================================
# Detects hardcoded secrets, API keys, tokens, and credentials in code.
# =============================================================================

title = "Gitleaks Configuration"

[extend]
# useDefault will extend the base configuration with the default gitleaks config:
# https://github.com/gitleaks/gitleaks/blob/master/config/gitleaks.toml
useDefault = true

[allowlist]
description = "Allowlisted paths and patterns"
paths = [
    '''\.git/''',
    '''\.gitleaks\.toml''',
    '''\.secrets\.baseline''',
    '''\.env\..*\.template''',
    '''\.envrc\.local\.template''',
    '''CLAUDE\.md''',
    '''CLAUDE\.local\.md''',
    '''README\.md''',
    '''CHANGELOG\.md''',
    '''/tests/fixtures/''',
    '''/tests/unit/fixtures/''',
    '''/docs/examples/''',
    # SOPS config contains age PUBLIC keys (meant to be committed)
    '''\.sops\.yaml'''
]
regexes = [
    # age public keys start with "age1" - these are safe to commit (only private keys are secret)
    '''age1[a-z0-9]{58}'''
]
